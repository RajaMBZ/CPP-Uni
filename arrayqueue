#include<conio.h>
#include<iostream>
#include<stdio.h>

using namespace std;

int main()
{
    int sorc;
    cout<<"Simple array or circular array? Enter 1 for simple array or 2 for circular array:";
    scanf("%d",&sorc);
    if (sorc==1)    {
        int length;
        cout<<"Length of your array?";
        scanf("%d",&length);
        int queue[length], front=0, rear=0;
        int i=1;
        int x=length;
        int j=1;
        int ch;
        cout<<"Simple array based queue:\n\n1.Enqueue \n2.Dequeue";
        while(true)
        {
            printf("\nEnter choice number:");
            scanf("%d",&ch);

            if (ch==1)  {
                if(rear==x)
                    printf("\nQueue is Full");
                else
                {
                    printf("\nEnter no %d:",j++);
                    scanf("%d",&queue[rear++]);
                }
            }

            if (ch==2)  {
                if(front==rear)
                {
                    printf("\nQueue is empty");
                }
                else
                {
                    printf("\nDequeued Element is %d",queue[front++]);
                    x++;
                }
            }
            if (ch==3)  {
                for (int x = 0; x<4; ++x)  {
                    cout<<queue[x];
                }
            }
        }
    } else {
        while(true)
        {
            int length;
            cout<<"Length of your array?";
            scanf("%d",&length);
            int queue[length];
            int totalentries = 0;
            int front = 0;
            int ch;
            cout<<"Circular array based queue:\n\n1.Enqueue \n2.Dequeue";
            while(true)
            {
                printf("\nEnter choice number:");
                scanf("%d",&ch);

                if (ch==1)  {
                    if(totalentries==length-1)
                        printf("\nQueue is Full");
                    else
                    {
                        cout<<"\nEnter no %d:";
                        scanf("%d",&queue[totalentries++]);
                    }
                }
                if (ch==2)  {
                    if(front==0)
                    {
                        printf("\nQueue is empty");
                    }
                    else
                    {
                        printf("\nDequeued Element is %d",queue[front++]);
                        --totalentries;
                    }
                 }
            }
        }
}}
